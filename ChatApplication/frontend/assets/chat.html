<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ChatApp â€” Messages</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="css/style.css" />
<link rel="stylesheet" href="css/chat.css" />
<link rel="stylesheet" href="css/chat-messages.css" />
</head>
<body>
<button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
<span class="material-icons">light_mode</span>
</button>

<div class="chat-container">
	<!-- Sidebar -->
	<aside class="chat-sidebar">
		<div class="sidebar-header">
			<div class="user-profile">
				<div class="avatar online" id="userAvatar">U</div>
				<div class="user-info">
					<h3 id="userName">Loading...</h3>
					<span class="status">Online</span>
				</div>
			</div>
			<button class="btn-icon" id="btnSettings" title="Settings" onclick="window.location.href='settings.html'">
				<span class="material-icons">settings</span>
			</button>
		</div>

		<div class="search-container">
			<div class="search-box">
				<span class="material-icons">search</span>
				<input type="text" placeholder="Search or start new chat" />
			</div>
			<button class="btn-icon" id="btnAddFriend" title="Add friend">
				<span class="material-icons">person_add</span>
			</button>
			<button class="btn-icon" id="btnCreateGroup" title="Create group">
				<span class="material-icons">group_add</span>
			</button>
		</div>

		<div class="chat-list">
			<!-- Chat items will be added here dynamically -->
		</div>
	</aside>

	<!-- Main Chat Area -->
	<main class="chat-main">
		<div class="empty-state">
			<div class="empty-icon">
				<span class="material-icons">chat_bubble_outline</span>
			</div>
			<h2>Your Messages</h2>
			<p>Select a conversation from the list on the left to view it here.</p>
		</div>

		<!-- Normal Chat View -->
		<div class="chat-view" id="normal-chat" style="display: none;">
			<div class="chat-header">
				<div class="chat-header-info">
					<div class="avatar" id="chatAvatar">U</div>
					<div class="chat-header-text">
						<h3 id="chatName">User Name</h3>
						<span id="chatStatus">Online</span>
					</div>
				</div>
				<div class="chat-header-actions">
					<button class="btn-icon" id="btnSearchMessages" title="Search"><span class="material-icons">search</span></button>
					<button class="btn-icon" title="Call"><span class="material-icons">call</span></button>
					<button class="btn-icon" title="Video Call"><span class="material-icons">videocam</span></button>
					<button class="btn-icon" title="Info"><span class="material-icons">info</span></button>
				</div>
			</div>

			<!-- Messages Area -->
			<div class="messages-container" id="messagesContainer">
				<!-- Messages will be inserted here -->
			</div>

			<!-- Search Panel (Hidden by default) -->
			<div class="search-panel" id="searchPanel" style="display: none;">
				<div class="search-panel-header">
					<h3>TÃ¬m kiáº¿m tin nháº¯n</h3>
					<button class="btn-icon" id="btnCloseSearch" title="Close">
						<span class="material-icons">close</span>
					</button>
				</div>
				
				<div class="search-panel-input">
					<div class="search-box">
						<span class="material-icons">search</span>
						<input type="text" id="searchInput" placeholder="TÃ¬m kiáº¿m tin nháº¯n..." />
					</div>
				</div>

				<div class="search-results-container" id="searchResultsContainer">
					<div class="search-empty">
						<span class="material-icons">search</span>
						<p>Nháº­p tá»« khÃ³a Ä‘á»ƒ tÃ¬m kiáº¿m tin nháº¯n</p>
					</div>
				</div>
			</div>

			<!-- Input Area -->
			<div class="chat-input">
				<!-- Reply Preview (Hidden by default) -->
				<div class="reply-preview" id="replyPreview" style="display: none;">
					<div class="reply-preview-content">
						<span class="material-icons">reply</span>
						<div class="reply-info">
							<div class="reply-sender"></div>
							<div class="reply-text"></div>
						</div>
					</div>
					<button class="btn-icon" id="btnCancelReply" title="Cancel reply">
						<span class="material-icons">close</span>
					</button>
				</div>
				
				<button class="btn-icon" id="btnAttachFile" title="Attach file">
					<span class="material-icons">attach_file</span>
				</button>
				<button class="btn-icon" id="btnAttachImage" title="Attach image">
					<span class="material-icons">image</span>
				</button>
				<input type="file" id="fileInput" style="display:none" />
				<input type="file" id="imageInput" accept="image/*" style="display:none" />
				<input type="text" id="messageInput" placeholder="Type a message..." />
				<button class="btn-icon" id="btnEmoji" title="Emoji">
					<span class="material-icons">sentiment_satisfied_alt</span>
				</button>
				<button class="btn-icon btn-send" id="btnSend" title="Send">
					<span class="material-icons">send</span>
				</button>
			</div>

			<!-- Emoji Picker (Hidden by default) -->
			<div class="emoji-picker" id="emojiPicker" style="display:none;">
				<div class="emoji-grid">
					<span class="emoji">ğŸ˜€</span><span class="emoji">ğŸ˜ƒ</span><span class="emoji">ğŸ˜„</span><span class="emoji">ğŸ˜</span>
					<span class="emoji">ğŸ˜†</span><span class="emoji">ğŸ˜…</span><span class="emoji">ğŸ¤£</span><span class="emoji">ğŸ˜‚</span>
					<span class="emoji">ğŸ™‚</span><span class="emoji">ğŸ™ƒ</span><span class="emoji">ğŸ˜‰</span><span class="emoji">ğŸ˜Š</span>
					<span class="emoji">ğŸ˜‡</span><span class="emoji">ğŸ¥°</span><span class="emoji">ğŸ˜</span><span class="emoji">ğŸ¤©</span>
					<span class="emoji">ğŸ˜˜</span><span class="emoji">ğŸ˜—</span><span class="emoji">ğŸ˜š</span><span class="emoji">ğŸ˜™</span>
					<span class="emoji">ğŸ˜‹</span><span class="emoji">ğŸ˜›</span><span class="emoji">ğŸ˜œ</span><span class="emoji">ğŸ¤ª</span>
					<span class="emoji">ğŸ˜</span><span class="emoji">ğŸ¤‘</span><span class="emoji">ğŸ¤—</span><span class="emoji">ğŸ¤­</span>
					<span class="emoji">ğŸ¤«</span><span class="emoji">ğŸ¤”</span><span class="emoji">ğŸ¤</span><span class="emoji">ğŸ¤¨</span>
					<span class="emoji">ğŸ˜</span><span class="emoji">ğŸ˜‘</span><span class="emoji">ğŸ˜¶</span><span class="emoji">ğŸ˜</span>
					<span class="emoji">ğŸ˜’</span><span class="emoji">ğŸ™„</span><span class="emoji">ğŸ˜¬</span><span class="emoji">ğŸ¤¥</span>
					<span class="emoji">ğŸ˜Œ</span><span class="emoji">ğŸ˜”</span><span class="emoji">ğŸ˜ª</span><span class="emoji">ğŸ¤¤</span>
					<span class="emoji">ğŸ˜´</span><span class="emoji">ğŸ˜·</span><span class="emoji">ğŸ¤’</span><span class="emoji">ğŸ¤•</span>
					<span class="emoji">ğŸ¤¢</span><span class="emoji">ğŸ¤®</span><span class="emoji">ğŸ¤§</span><span class="emoji">ğŸ¥µ</span>
					<span class="emoji">ğŸ¥¶</span><span class="emoji">ğŸ˜</span><span class="emoji">ğŸ¤“</span><span class="emoji">ğŸ§</span>
					<span class="emoji">ğŸ˜•</span><span class="emoji">ğŸ˜Ÿ</span><span class="emoji">ğŸ™</span><span class="emoji">â˜¹ï¸</span>
					<span class="emoji">ğŸ˜®</span><span class="emoji">ğŸ˜¯</span><span class="emoji">ğŸ˜²</span><span class="emoji">ğŸ˜³</span>
					<span class="emoji">ğŸ¥º</span><span class="emoji">ğŸ˜¦</span><span class="emoji">ğŸ˜§</span><span class="emoji">ğŸ˜¨</span>
					<span class="emoji">ğŸ˜°</span><span class="emoji">ğŸ˜¥</span><span class="emoji">ğŸ˜¢</span><span class="emoji">ğŸ˜­</span>
					<span class="emoji">ğŸ˜±</span><span class="emoji">ğŸ˜–</span><span class="emoji">ğŸ˜£</span><span class="emoji">ğŸ˜</span>
					<span class="emoji">ğŸ˜“</span><span class="emoji">ğŸ˜©</span><span class="emoji">ğŸ˜«</span><span class="emoji">ğŸ¥±</span>
					<span class="emoji">ğŸ‘</span><span class="emoji">ğŸ‘</span><span class="emoji">ğŸ‘Œ</span><span class="emoji">âœŒï¸</span>
					<span class="emoji">ğŸ¤</span><span class="emoji">ğŸ¤Ÿ</span><span class="emoji">ğŸ¤˜</span><span class="emoji">ğŸ¤™</span>
					<span class="emoji">ğŸ‘</span><span class="emoji">ğŸ™Œ</span><span class="emoji">ğŸ‘</span><span class="emoji">ğŸ¤²</span>
					<span class="emoji">ğŸ¤</span><span class="emoji">ğŸ™</span><span class="emoji">âœï¸</span><span class="emoji">ğŸ’ª</span>
					<span class="emoji">â¤ï¸</span><span class="emoji">ğŸ§¡</span><span class="emoji">ğŸ’›</span><span class="emoji">ğŸ’š</span>
					<span class="emoji">ğŸ’™</span><span class="emoji">ğŸ’œ</span><span class="emoji">ğŸ–¤</span><span class="emoji">ğŸ¤</span>
					<span class="emoji">ğŸ¤</span><span class="emoji">ğŸ’”</span><span class="emoji">â£ï¸</span><span class="emoji">ğŸ’•</span>
					<span class="emoji">ğŸ’</span><span class="emoji">ğŸ’“</span><span class="emoji">ğŸ’—</span><span class="emoji">ğŸ’–</span>
					<span class="emoji">ğŸ’˜</span><span class="emoji">ğŸ’</span><span class="emoji">ğŸ’Ÿ</span><span class="emoji">ğŸ”¥</span>
					<span class="emoji">âœ¨</span><span class="emoji">â­</span><span class="emoji">ğŸŒŸ</span><span class="emoji">ğŸ’«</span>
				</div>
			</div>
		</div>

		<!-- Cloud Storage View (Hidden by default) -->
		<div class="chat-view" id="cloud-chat" style="display: none;">
			<!-- Cloud Files Timeline -->
			<div class="cloud-timeline">
				<div class="cloud-header">
					<div class="cloud-title">
						<span class="material-icons">cloud</span>
						<h2>Cloud cá»§a tÃ´i</h2>
					</div>
					<div class="cloud-actions">
						<button class="btn-icon" title="Search">
							<span class="material-icons">search</span>
						</button>
						<button class="btn-icon" id="toggle-info-panel" title="Info">
							<span class="material-icons">info</span>
						</button>
					</div>
				</div>

				<p class="cloud-subtitle">LÆ°u vÃ  Ä‘á»“ng bá»™ dá»¯ liá»‡u giá»¯a cÃ¡c thiáº¿t bá»‹</p>

				<!-- Files Timeline -->
				<div class="files-timeline">
					<!-- Empty timeline -->
				</div>

				<!-- Input Box -->
				<div class="cloud-input">
					<button class="btn-icon"><span class="material-icons">attach_file</span></button>
					<button class="btn-icon"><span class="material-icons">image</span></button>
					<input type="text" placeholder="Nháº­p @, tin nháº¯n tá»›i Cloud cá»§a tÃ´i" />
					<button class="btn-icon"><span class="material-icons">sentiment_satisfied_alt</span></button>
					<button class="btn-icon btn-send"><span class="material-icons">send</span></button>
				</div>
			</div>

			<!-- Cloud Info Panel -->
			<div class="cloud-info-panel">
				<div class="cloud-info-header">
					<h3>ThÃ´ng tin há»™i thoáº¡i</h3>
				</div>

				<div class="cloud-profile">
					<div class="avatar large">
						<span class="material-icons">cloud</span>
					</div>
					<h2>Cloud cá»§a tÃ´i</h2>
					<p>LÆ°u trá»¯ vÃ  truy cáº­p nhanh nhá»¯ng ná»™i dung quan trá»ng cá»§a báº¡n ngay trÃªn Zalo</p>
				</div>

				<!-- Storage Usage -->
				<div class="storage-section">
					<div class="storage-header">
						<span>Dung lÆ°á»£ng</span>
						<span class="storage-amount">0 MB / 500 MB</span>
					</div>
					<div class="storage-bar">
						<div class="storage-fill" style="width: 0%"></div>
					</div>
					<div class="storage-legend">
						<div class="legend-item"><span class="dot orange"></span> áº¢nh</div>
						<div class="legend-item"><span class="dot green"></span> Video</div>
						<div class="legend-item"><span class="dot blue"></span> File</div>
						<div class="legend-item"><span class="dot gray"></span> KhÃ¡c</div>
					</div>
				</div>

				<div class="cloud-section">
					<h4>Xem vÃ  dá»n dáº¹p Cloud cá»§a tÃ´i</h4>
					<div class="upgrade-card">
						<span class="material-icons">info</span>
						<div class="upgrade-text">
							<strong>NÃ¢ng cáº¥p dung lÆ°á»£ng Cloud cá»§a tÃ´i</strong>
							<p>Má»Ÿ rá»™ng dung lÆ°á»£ng lÃªn Ä‘áº¿n 100GB vÃ  tá»± Ä‘á»™ng báº£o toÃ n dá»¯ liá»‡u trÃ² chuyá»‡n vá»›i zCloud.</p>
						</div>
						<button class="btn-primary">ThÃªm dung lÆ°á»£ng</button>
					</div>
				</div>

				<div class="cloud-section">
					<div class="section-header">
						<span class="material-icons">schedule</span>
						<span>Danh sÃ¡ch nháº¯c háº¹n</span>
					</div>
				</div>

				<div class="cloud-section">
					<div class="section-header">
						<span class="material-icons">image</span>
						<span>áº¢nh/Video</span>
						<button class="btn-icon"><span class="material-icons">expand_more</span></button>
					</div>
					<div class="media-grid">
						<!-- Empty media grid -->
					</div>
				</div>
			</div>
		</div>
	</main>
</div>

<!-- Create Group Modal -->
<div id="createGroupModal" class="modal">
	<div class="modal-content">
		<div class="modal-header">
			<h2>Táº¡o nhÃ³m chat</h2>
			<button class="btn-close" onclick="closeCreateGroupModal()">
				<span class="material-icons">close</span>
			</button>
		</div>
		<div class="modal-body">
			<div class="form-group">
				<label>TÃªn nhÃ³m</label>
				<input type="text" id="groupNameInput" placeholder="Nháº­p tÃªn nhÃ³m..." />
			</div>
			
			<div class="form-group">
				<label>TÃ¬m kiáº¿m thÃ nh viÃªn (tá»‘i thiá»ƒu 3 ngÆ°á»i)</label>
				<div class="search-box">
					<span class="material-icons">search</span>
					<input type="text" id="groupMemberSearch" placeholder="Nháº­p tÃªn hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i..." />
				</div>
			</div>

			<!-- Selected Members -->
			<div id="selectedMembers" class="selected-members">
				<!-- Selected members will appear here -->
			</div>

			<!-- Search Results -->
			<div id="groupSearchResults" class="search-results">
				<!-- Search results will appear here -->
			</div>
		</div>
		<div class="modal-footer">
			<button class="btn-secondary" onclick="closeCreateGroupModal()">Há»§y</button>
			<button class="btn-primary" id="btnCreateGroupSubmit">Táº¡o nhÃ³m</button>
		</div>
	</div>
</div>

<!-- Share Modal -->
<div id="shareModal" class="modal">
	<div class="modal-content">
		<div class="modal-header">
			<h2>Chia sáº» file</h2>
			<button class="btn-close" onclick="closeShareModal()">
				<span class="material-icons">close</span>
			</button>
		</div>
		<div class="modal-body">
			<div class="form-group">
				<label>TÃ¬m kiáº¿m ngÆ°á»i nháº­n</label>
				<div class="search-box">
					<span class="material-icons">search</span>
					<input type="text" id="shareSearchInput" placeholder="Nháº­p tÃªn hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i..." />
				</div>
			</div>

			<!-- Selected Recipients -->
			<div id="selectedRecipients" class="selected-members">
				<!-- Selected recipients will appear here -->
			</div>

			<!-- Search Results -->
			<div id="shareSearchResults" class="search-results">
				<!-- Search results will appear here -->
			</div>
		</div>
		<div class="modal-footer">
			<button class="btn-secondary" onclick="closeShareModal()">Há»§y</button>
			<button class="btn-primary" id="btnShareSubmit">Chia sáº»</button>
		</div>
	</div>
</div>

<!-- Context Menu for Messages -->
<div class="message-context-menu" id="messageContextMenu" style="display: none;">
	<div class="context-menu-item" id="contextReply">
		<span class="material-icons">reply</span>
		<span>Tráº£ lá»i</span>
	</div>
	<div class="context-menu-item" id="contextDelete">
		<span class="material-icons">delete</span>
		<span>Thu há»“i tin nháº¯n</span>
	</div>
</div>

<script src="js/script.js"></script>
<script src="js/chat.js"></script>
</body>
</html>
